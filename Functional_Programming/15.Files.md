# Working with files in python

_In computer storage devices, a file is a container for data storage._

_We must first open a file before we can read from or write to it. It must be closed once we are finished so that the
resources associated with the file can be released._

_So, a file operation in Python happens in the following order:_

+ Open a file
+ Read, write, append or modify
+ Close the file

## Open Files in Python

To open a file in Python, we use the built-in `open()` function. This function takes two parameters: the file name and
the
mode in which we want to open the file.

The syntax for opening a file in Python is:

```python
file = open("file_name", "mode")
```

The mode parameter specifies the mode in which we want to open the file. The available modes are:

| Mode | Description                                                                                                                       |
|------|-----------------------------------------------------------------------------------------------------------------------------------|
| r    | To read a file, open it. (default)                                                                                                |
| w    | To write, open a file. if the file doesn't already exist, creates a new one; otherwise, truncates the existing one.               |
| a    | Access a file without truncating it so that you can append data to the end of it. if the file does not already exist, creates it. |
| t    | Switch to text mode. (default)                                                                                                    |
| x    | For exclusive creation, open a file. The operation fails if the file already exists.                                              |
| b    | In binary mode, open.                                                                                                             |
| +    | To update a file, open it (reading and writing)                                                                                   |

Once we have finished working with the file, we must close it using the `close()` method.

```python
file.close()
```

It is good practice to close files after we have finished working with them.

## Reading a file

To read a file in Python, we use the `read()` method. This method reads the entire contents of the file and returns it
as a string.

```python
file = open("file_name", "r")
contents = file.read()
print(contents)
file.close()
```

If we want to read the file line by line, we can use the `readline()` method.

```python
file = open("file_name", "r")
line = file.readline()
while line:
    print(line)
    line = file.readline()
file.close()
```

The `readlines()` method can also be used to read all the lines in a file and return them as a list of strings.

```python
file = open("file_name", "r")
lines = file.readlines()
for line in lines:
    print(line)
file.close()
```

## Writing to a file

To write to a file in Python, we use the `write()` method. This method writes the specified string to the file.

```python
file = open("file_name", "w")
file.write("test text.")
file.close()
```

If we want to write multiple lines to a file, we can use the 'writelines()' method.

```python
file = open("file_name", "w")
lines = ["This is line 1.\n", "This is line 2.\n", "This is line 3.\n"]
file.writelines(lines)
file.close()
```

## Appending to a File

To append to a file in Python, we use the `"a"` mode when opening the file.

```python
file = open("file_name", "a")
file.write("test text.")
file.close()
```

## Renaming and Deleting a File

To rename a file in Python, since there is no built-in way to do that in python, we need 'os' library, particularly
the `os.rename()` method.

```python
import os

os.rename("old_file_name", "new_file_name")
```

To delete a file in Python, we use the `os.remove()` method.

```python
import os

os.remove("file_name")
```

## With open

In Python, `with open` is a context manager that provides a way to manage resources, such as file streams, in a more
efficient and safe manner. It is a recommended way to open and work with files in Python. The `with` statement is used
to wrap the execution of a block of code with methods defined by a context manager. In the case of file handling, the
context manager is the `open()` function. When you use `with open`, Python automatically takes care of closing the file
when the block of code inside the with statement finishes executing, even if an exception occurs. This ensures that the
file is properly closed, which is important to avoid file corruption or data loss. The syntax for using with open is as
follows:

```python
with open("file_name", "mode") as file:
    # code to work with file goes here
```

The `as` keyword is used to create an alias for the file object, which can then be used inside the block of code. Here
is an example of how to read a file using with open:

```python
with open("file_name", "r") as file:
    contents = file.read()
    print(contents)
```

Once the block of code is executed, the file will be automatically closed, even if an error occurs. This makes
<br/>
`with open` a safe and efficient way to work with files in Python.
